var MultipleValuesInput;MultipleValuesInput=function(){"use strict";var t={950:function(t,e,n){n.r(e)},664:function(t,e){var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MultipleValuesInput=void 0;var o="MultipleValuesInput",i={HIDDEN_ROOT:o+"__root--hidden",CONTAINER:o+"__container",ITEM:o+"__item",BLOCK:o+"__block",INPUT:o+"__input",BLOCK_VALID:o+"__block--valid",BLOCK_INVALID:o+"__block--invalid"},r={values:[],validator:function(t){return t.trim().length>0},placeholder:"Enter item",onChange:function(){}},a=function(){function t(t,e){void 0===e&&(e={}),this.items=new Map([]),this.root=t,this.options=n(n({},r),e),this.container=this.createContainerElement(),this.input=this.createInputElement(),this.mount()}return t.prototype.getItems=function(){return Array.from(this.items.entries())},t.prototype.add=function(t){var e=this.setItemsByValue(t);this.appendBlockForItems(e),this.triggerOnChangeHandler()},t.prototype.destroy=function(){this.unmount()},t.prototype.mount=function(){if(!this.root.parentNode)throw new Error("No parent node defined! Make sure you have not selected document root as input root!");var t=this.setItemsByValue(this.options.values);this.root.classList.add(i.HIDDEN_ROOT),this.root.dataset.testid="root",this.root.parentNode.insertBefore(this.container,this.root.nextSibling),this.container.appendChild(this.input),this.container.appendChild(this.root),this.appendBlockForItems(t)},t.prototype.unmount=function(){this.container.removeEventListener("click",this.handleBlockRemove),this.input.removeEventListener("keyup",this.handleKeyup),this.input.removeEventListener("focusout",this.handleFocusout),this.input.removeEventListener("paste",this.handlePaste);var t=this.container.parentNode;this.root.classList.remove(i.HIDDEN_ROOT),null==t||t.appendChild(this.root),null==t||t.removeChild(this.container)},t.prototype.createContainerElement=function(){var t=document.createElement("div");return t.classList.add(i.CONTAINER),t.dataset.testid="container",t.addEventListener("click",this.handleBlockRemove.bind(this)),t},t.prototype.createInputElement=function(){var t=document.createElement("input");return t.classList.add(i.INPUT),t.classList.add(i.ITEM),t.type="text",t.placeholder=this.options.placeholder,t.addEventListener("keyup",this.handleKeyup.bind(this)),t.addEventListener("focusout",this.handleFocusout.bind(this)),t.addEventListener("paste",this.handlePaste.bind(this)),t},t.prototype.createBlockElement=function(t,e){var n=document.createElement("div"),o=document.createElement("span"),r=document.createElement("button");return n.classList.add(i.ITEM),n.classList.add(i.BLOCK),n.classList.add(e.valid?i.BLOCK_VALID:i.BLOCK_INVALID),n.dataset.value=t,o.textContent=t,r.innerHTML="&times;",r.type="button",n.appendChild(o),n.appendChild(r),n},t.prototype.appendBlockForItems=function(t){var e=this;t.forEach((function(t){var n,o=t[0],i=t[1],r=e.createBlockElement(o,i);null===(n=e.input.parentNode)||void 0===n||n.insertBefore(r,e.input),e.container.scrollTop=e.container.scrollHeight}))},t.prototype.formatInputValue=function(t){return t.trim().replace(/,/g,"")},t.prototype.getItemProperties=function(t){return{valid:this.options.validator(t)}},t.prototype.setItemsByValue=function(t){var e=this,n=(Array.isArray(t)?t:[t]).map((function(t){return e.formatInputValue(t)})).filter(Boolean);if(0===n.length)return[];var o=[];return n.forEach((function(t){if(!e.items.has(t)){var n=e.getItemProperties(t);e.items.set(t,n),o.push([t,n])}})),o},t.prototype.resetInputValue=function(){this.input.value=""},t.prototype.handleKeyup=function(t){if(["Enter","Comma"].includes(t.code)){var e=this.setItemsByValue(this.input.value);this.appendBlockForItems(e),this.triggerOnChangeHandler(),this.resetInputValue()}},t.prototype.handleFocusout=function(){if(0!==this.input.value.length){var t=this.setItemsByValue(this.input.value);this.appendBlockForItems(t),this.triggerOnChangeHandler(),this.resetInputValue()}},t.prototype.handlePaste=function(t){if(t.preventDefault(),t.clipboardData)try{var e=t.clipboardData.getData("text").split(","),n=this.setItemsByValue(e);this.appendBlockForItems(n),this.triggerOnChangeHandler(),this.resetInputValue()}catch(t){console.error(t)}},t.prototype.handleBlockRemove=function(t){var e=t.target;if("button"===e.tagName.toLowerCase()){var n=e.parentNode,o=n.dataset.value;n&&o&&(this.items.delete(o),this.container.removeChild(n),this.triggerOnChangeHandler())}},t.prototype.triggerOnChangeHandler=function(){this.options.onChange(this.getItems())},t}();e.MultipleValuesInput=a},607:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var o=n(664);n(950),t.exports=o.MultipleValuesInput}},e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}return n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(607)}();